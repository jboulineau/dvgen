CREATE PROCEDURE {%SCHEMA%}.{%HUB_INSERT_PROC_NAME%} 
( 
    @inserted {%SCHEMA%}.{%HUB_UDT_NAME%} 
) 
AS  

INSERT INTO {%HUB_TABLE_NAME%} 
( 
    {%HUB_TYPED_COLUMN_LIST%} 
) 
SELECT DISTINCT 
    {%HUB_UNTYPED_COLUMN_LIST%} 
FROM @inserted 
WHERE NOT EXISTS (
    SELECT  1
    FROM    {%SCHEMA%}.{%HUB_TABLE_NAME%} 
    WHERE   {%HUB_INSERT_JOIN%} 
) 

